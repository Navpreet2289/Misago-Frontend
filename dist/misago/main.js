var misago=webpackJsonpmisago([0],{164:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var r=u(n(1)),a=u(n(6)),o=u(n(175));u(n(261)),t.init=function(){a.default.render(r.default.createElement(o.default,null),document.getElementById("app-root"))}},175:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),a=n(11),o=n(201),l=u(n(227)),i=u(n(229)),s=u(n(244)),f=u(n(247)),d=u(n(252));t.default=function(){return r.default.createElement(a.Provider,{store:d.default.create()},r.default.createElement(l.default,null,r.default.createElement(o.BrowserRouter,null,r.default.createElement(o.Switch,null,f.default.routes().map(function(e){return r.default.createElement(o.Route,{component:e.component,key:e.key,path:e.path,exact:!0})}))),r.default.createElement(s.default,null),r.default.createElement(i.default,null)))}},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=void 0;var u=n(11),r=function(e){return e&&e.__esModule?e:{default:e}}(n(228)),a=function(e){return{poll:!!e.auth.id}},o=(0,u.connect)(a)(r.default);t.default=o,t.mapStateToProps=a},228:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,n,u){return n&&e(t.prototype,n),u&&e(t,u),t}}(),i=u(n(2)),s=u(n(1)),f=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.intervalId=null,e}return o(t,s.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.poll&&(this.intervalId=window.setInterval(function(){console.log("hit AUTH API for user data")},4e4))}},{key:"componentWillUnmount",value:function(){this.intervalId&&window.clearInterval(this.intervalId)}},{key:"render",value:function(){return this.props.children}}]),t}();f.propTypes={poll:i.default.bool.isRequired},t.default=f},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=void 0;var u=n(11),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(230)),a=function(e){return e&&e.__esModule?e:{default:e}}(n(238)),o=function(e){return e.modal},l=(0,u.connect)(o,function(e){return{onHide:function(){return e(r.hideModal())},onClosed:function(){return e(r.unmountModal())}}})(a.default);t.default=l,t.mapStateToProps=o},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmountModal=t.hideModal=t.showModal=void 0;var u=n(9);t.showModal=function(e){return{children:e,className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,type:u.actions.SHOW_MODAL}},t.hideModal=function(){return{type:u.actions.HIDE_MODAL}},t.unmountModal=function(){return{type:u.actions.UNMOUNT_MODAL}}},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_MODAL="HIDE_MODAL",t.SHOW_MODAL="SHOW_MODAL",t.UNMOUNT_MODAL="UNMOUNT_MODAL"},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)).default.api;t.default=u},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAuthenticated=t.isAnonymous=t.id=void 0;var u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),r=u.default.auth.id,a=u.default.auth.isAnonymous,o=u.default.auth.isAuthenticated;t.id=r,t.isAnonymous=a,t.isAuthenticated=o},234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)).default.conf;t.default=u},235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)).default.search;t.default=u},236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)).default.store;t.default=u},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)).default.url;t.default=u},238:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),a=u(n(6)),o=u(n(239));t.default=function(e){var t=e.children,n=e.className,u=e.isOpen,l=e.onClosed,i=e.onHide;return a.default.createPortal(r.default.createElement(o.default,{className:n,isOpen:u,toggle:i,onClosed:l},t),document.getElementById("modal-root"))}},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=void 0;var u=n(11),r=function(e){return e&&e.__esModule?e:{default:e}}(n(245)),a=function(e){return{isAuthenticated:!!e.auth.id,user:e.auth}},o=(0,u.connect)(a)(r.default);t.default=o,t.mapStateToProps=a},245:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),a=u(n(6)),o=u(n(246));t.default=function(e){var t=e.isAuthenticated,n=e.showLoginModal,u=e.user;return a.default.createPortal([r.default.createElement("span",{className:"navbar-text",key:"username"},t?u.username:"Guest"),r.default.createElement(o.default,{key:"user-avatar",user:u}),r.default.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",key:"signin",type:"button",onClick:n},gettext("Sign in"))],document.getElementById("navbar-root"))}},246:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(23)),a=u(n(2)),o=u(n(1)),l=n(9),i=function(e){var t=e.className,n=e.size,u=e.size2x,a=e.user,l=n||100,i=u||l;return o.default.createElement("img",{alt:"",className:(0,r.default)("user-avatar",t),height:l,src:s(a,l),srcSet:s(a,i),width:l})};i.propTypes={className:a.default.string,size:a.default.number,user:a.default.object};var s=function(e,t){return e&&e.id&&e.avatars?f(e.avatars,t):l.url.blank_avatar},f=function(e,t){var n=e[0];return e.forEach(function(e){e.size>=t&&(n=e)}),n.url};t.default=i},247:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),a=u(n(248)),o=new(u(n(249)).default)(r.url.index);o.add("index","/",a.default),o.add("terms-of-service","terms-of-service/",a.default),t.default=o},248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){var t=e.match;return u.default.createElement("div",{className:"container"},u.default.createElement("h1",null,t.path),u.default.createElement("p",{className:"lead"},"This is test route."))}},249:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,n,u){return n&&e(t.prototype,n),u&&e(t,u),t}}(),o=u(n(250)),l=u(n(251)),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";r(this,e),this.basepath=t,this.orderedlist=new l.default,this.urls={}}return a(e,[{key:"normalizePath",value:function(e){var t=(0,o.default)(e,"/");return t?this.basepath+t+"/":this.basepath}},{key:"add",value:function(e,t,n,u){var r=this.normalizePath(t);this.orderedlist.add(e,{component:n,key:e,path:r},u),this.urls[e]=r}},{key:"url",value:function(e,t){if(this.urls[e])return t?this.urls[e].split("/").map(function(e){if(t&&":"===e.substr(0,1)){var n=e.substr(1);if(t[n])return t[n].toString()}return e}).join("/"):this.urls[e]}},{key:"routes",value:function(){return this.orderedlist.values()}}]),e}();t.default=i},251:function(e,t,n){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,n,u){return n&&e(t.prototype,n),u&&e(t,u),t}}(),a=function(){function e(){u(this,e),this.isOrdered=!1,this.unordered=[],this.items=[]}return r(e,[{key:"add",value:function(e,t,n){this.unordered.push({key:e,item:t,after:n?n.after||null:null,before:n?n.before||null:null})}},{key:"get",value:function(e,t){for(var n=this.unordered.length,u=0;u<n;u++)if(this.unordered[u].key===e)return this.unordered[u].item;return t||null}},{key:"has",value:function(e){return null!==this.get(e)}},{key:"values",value:function(){return this.isOrdered||(this.items=this._order(this.unordered),this.isOrdered=!0),this.items}},{key:"_order",value:function(e){var t=[];e.forEach(function(e){t.push(e.key)});var n=[],u=[];e.forEach(function(e){e.after||e.before||(n.push(e),u.push(e.key))}),e.forEach(function(e){"_end"===e.before&&(n.push(e),u.push(e.key))}),e.forEach(function(e){"_end"===e.after&&(n.push(e),u.push(e.key))});for(var r=200;r>0&&t.length!==u.length;)r-=1,e.forEach(function(e){var t=-1;-1===u.indexOf(e.key)&&(e.after?-1!==(t=u.indexOf(e.after))&&(t+=1):e.before&&(t=u.indexOf(e.before)),-1!==t&&(n.splice(t,0,e),u.splice(t,0,e.key)))});return n.map(function(e){return e.item})}}]),e}();t.default=a},252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(253)),a=n(256),o=new(function(e){return e&&e.__esModule?e:{default:e}}(n(259)).default);o.add("auth",a.authReducer,r.normalizeUser(u.store.auth)),o.add("modal",a.modalReducer),t.default=o},253:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUser=t.normalizeMoment=void 0;var r=u(n(45)),a=u(n(255));t.normalizeMoment=r.default,t.normalizeUser=a.default},255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(45));t.default=function(e){return Object.assign({},{id:null,acl:{}},e,{joined_on:(0,u.default)(e.joined_on)})}},256:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modalReducer=t.authReducer=void 0;var r=u(n(257)),a=u(n(258));t.authReducer=r.default,t.modalReducer=a.default},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={id:null,acl:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return arguments[1],e}},258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),r={isOpen:!1,className:null,children:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];return t.type===u.actions.SHOW_MODAL?{isOpen:!0,className:t.className,children:t.children}:t.type===u.actions.HIDE_MODAL?Object.assign({},e,{isOpen:!1}):t.type===u.actions.UNMOUNT_MODAL?Object.assign({},e,{children:null}):e}},259:function(e,t,n){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,n,u){return n&&e(t.prototype,n),u&&e(t,u),t}}(),a=n(29),o=function(e){return e&&e.__esModule?e:{default:e}}(n(260)),l=function(){function e(){u(this,e),this.reducers={},this.initialState={}}return r(e,[{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.reducers[e]=t,n&&(this.initialState[e]=n)}},{key:"create",value:function(){return(0,a.createStore)((0,a.combineReducers)(this.reducers),this.initialState,(0,a.applyMiddleware)(o.default))}}]),e}();t.default=l},261:function(e,t){},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){return e?(0,u.default)(e):null}},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=window.__MISAGO||{};t.default=u},9:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.url=t.store=t.search=t.misago=t.conf=t.auth=t.api=t.actions=void 0;var a=r(n(231)),o=u(n(232)),l=r(n(233)),i=u(n(234)),s=u(n(5)),f=u(n(235)),d=u(n(236)),c=u(n(237));t.actions=a,t.api=o.default,t.auth=l,t.conf=i.default,t.misago=s.default,t.search=f.default,t.store=d.default,t.url=c.default}},[164]);
//# sourceMappingURL=main.js.map